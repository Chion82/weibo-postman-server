import requests, json, sys, os
from flask import Flask, request, session, jsonify
from urllib import quote

reload(sys)
sys.setdefaultencoding('utf8')

ship_image_resources = [{"id":126603,"smallSquareName":"nMrEv2q.png","originName":"465.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842788000,"newPath":"http://r5.loli.io/nMrEv2.png","redirectCode":"nMrEv2.png","generatedCode":"nMrEv2","generatedName":"nMrEv2.png","share":False},{"id":126604,"smallSquareName":"Z3eYzuq.png","originName":"460.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842787000,"newPath":"http://r.loli.io/Z3eYzu.png","redirectCode":"Z3eYzu.png","generatedCode":"Z3eYzu","generatedName":"Z3eYzu.png","share":False},{"id":126605,"smallSquareName":"UJfaYnq.png","originName":"459.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842786000,"newPath":"http://r.loli.io/UJfaYn.png","redirectCode":"UJfaYn.png","generatedCode":"UJfaYn","generatedName":"UJfaYn.png","share":False},{"id":126601,"smallSquareName":"vuMNzyq.png","originName":"458.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842784000,"newPath":"http://r5.loli.io/vuMNzy.png","redirectCode":"vuMNzy.png","generatedCode":"vuMNzy","generatedName":"vuMNzy.png","share":False},{"id":126600,"smallSquareName":"BVVVNrq.png","originName":"455.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842783000,"newPath":"http://r5.loli.io/BVVVNr.png","redirectCode":"BVVVNr.png","generatedCode":"BVVVNr","generatedName":"BVVVNr.png","share":False},{"id":126602,"smallSquareName":"qeaMrmq.png","originName":"454.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842783000,"newPath":"http://r5.loli.io/qeaMrm.png","redirectCode":"qeaMrm.png","generatedCode":"qeaMrm","generatedName":"qeaMrm.png","share":False},{"id":126598,"smallSquareName":"U3IBVzq.png","originName":"453.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842782000,"newPath":"http://r.loli.io/U3IBVz.png","redirectCode":"U3IBVz.png","generatedCode":"U3IBVz","generatedName":"U3IBVz.png","share":False},{"id":126599,"smallSquareName":"Ub6vAjq.png","originName":"451.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842779000,"newPath":"http://r.loli.io/Ub6vAj.png","redirectCode":"Ub6vAj.png","generatedCode":"Ub6vAj","generatedName":"Ub6vAj.png","share":False},{"id":126597,"smallSquareName":"FBFv6bq.png","originName":"452.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842778000,"newPath":"http://r.loli.io/FBFv6b.png","redirectCode":"FBFv6b.png","generatedCode":"FBFv6b","generatedName":"FBFv6b.png","share":False},{"id":126595,"smallSquareName":"BrQnMjq.png","originName":"448.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842777000,"newPath":"http://r6.loli.io/BrQnMj.png","redirectCode":"BrQnMj.png","generatedCode":"BrQnMj","generatedName":"BrQnMj.png","share":False},{"id":126594,"smallSquareName":"Fj2q6jq.png","originName":"445.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842776000,"newPath":"http://r6.loli.io/Fj2q6j.png","redirectCode":"Fj2q6j.png","generatedCode":"Fj2q6j","generatedName":"Fj2q6j.png","share":False},{"id":126596,"smallSquareName":"zINVZjq.png","originName":"446.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842776000,"newPath":"http://r.loli.io/zINVZj.png","redirectCode":"zINVZj.png","generatedCode":"zINVZj","generatedName":"zINVZj.png","share":False},{"id":126593,"smallSquareName":"JBfu2aq.png","originName":"443.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842775000,"newPath":"http://r6.loli.io/JBfu2a.png","redirectCode":"JBfu2a.png","generatedCode":"JBfu2a","generatedName":"JBfu2a.png","share":False},{"id":126592,"smallSquareName":"AfMRjyq.png","originName":"442.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842771000,"newPath":"http://r.loli.io/AfMRjy.png","redirectCode":"AfMRjy.png","generatedCode":"AfMRjy","generatedName":"AfMRjy.png","share":False},{"id":126590,"smallSquareName":"AVzIZjq.png","originName":"436.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842770000,"newPath":"http://r6.loli.io/AVzIZj.png","redirectCode":"AVzIZj.png","generatedCode":"AVzIZj","generatedName":"AVzIZj.png","share":False},{"id":126591,"smallSquareName":"URVJVvq.png","originName":"441.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842770000,"newPath":"http://r.loli.io/URVJVv.png","redirectCode":"URVJVv.png","generatedCode":"URVJVv","generatedName":"URVJVv.png","share":False},{"id":126588,"smallSquareName":"Z7vqiqq.png","originName":"432.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842769000,"newPath":"http://r6.loli.io/Z7vqiq.png","redirectCode":"Z7vqiq.png","generatedCode":"Z7vqiq","generatedName":"Z7vqiq.png","share":False},{"id":126589,"smallSquareName":"QRrIbuq.png","originName":"431.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842768000,"newPath":"http://r6.loli.io/QRrIbu.png","redirectCode":"QRrIbu.png","generatedCode":"QRrIbu","generatedName":"QRrIbu.png","share":False}]
ship_image_resources.extend([{"id":126587,"smallSquareName":"IJ7nMvq.png","originName":"425.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842767000,"newPath":"http://r.loli.io/IJ7nMv.png","redirectCode":"IJ7nMv.png","generatedCode":"IJ7nMv","generatedName":"IJ7nMv.png","share":False},{"id":126583,"smallSquareName":"FnqEZvq.png","originName":"423.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842764000,"newPath":"http://r6.loli.io/FnqEZv.png","redirectCode":"FnqEZv.png","generatedCode":"FnqEZv","generatedName":"FnqEZv.png","share":False},{"id":126586,"smallSquareName":"bmUZRjq.png","originName":"424.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842764000,"newPath":"http://r5.loli.io/bmUZRj.png","redirectCode":"bmUZRj.png","generatedCode":"bmUZRj","generatedName":"bmUZRj.png","share":False},{"id":126585,"smallSquareName":"uAfiqqq.png","originName":"422.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842763000,"newPath":"http://r.loli.io/uAfiqq.png","redirectCode":"uAfiqq.png","generatedCode":"uAfiqq","generatedName":"uAfiqq.png","share":False},{"id":126584,"smallSquareName":"BrEfIrq.png","originName":"421.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842762000,"newPath":"http://r5.loli.io/BrEfIr.png","redirectCode":"BrEfIr.png","generatedCode":"BrEfIr","generatedName":"BrEfIr.png","share":False},{"id":126582,"smallSquareName":"emyUZzq.png","originName":"415.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842760000,"newPath":"http://r5.loli.io/emyUZz.png","redirectCode":"emyUZz.png","generatedCode":"emyUZz","generatedName":"emyUZz.png","share":False},{"id":126581,"smallSquareName":"6Zza2eq.png","originName":"414.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842759000,"newPath":"http://r5.loli.io/6Zza2e.png","redirectCode":"6Zza2e.png","generatedCode":"6Zza2e","generatedName":"6Zza2e.png","share":False},{"id":126580,"smallSquareName":"v6BVreq.png","originName":"413.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842757000,"newPath":"http://r6.loli.io/v6BVre.png","redirectCode":"v6BVre.png","generatedCode":"v6BVre","generatedName":"v6BVre.png","share":False},{"id":126579,"smallSquareName":"zmINBfq.png","originName":"410.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842756000,"newPath":"http://r5.loli.io/zmINBf.png","redirectCode":"zmINBf.png","generatedCode":"zmINBf","generatedName":"zmINBf.png","share":False},{"id":126577,"smallSquareName":"nEJfY3q.png","originName":"409.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842755000,"newPath":"http://r6.loli.io/nEJfY3.png","redirectCode":"nEJfY3.png","generatedCode":"nEJfY3","generatedName":"nEJfY3.png","share":False},{"id":126578,"smallSquareName":"MV3MBfq.png","originName":"405.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842755000,"newPath":"http://r6.loli.io/MV3MBf.png","redirectCode":"MV3MBf.png","generatedCode":"MV3MBf","generatedName":"MV3MBf.png","share":False},{"id":126576,"smallSquareName":"QFFZjmq.png","originName":"404.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842753000,"newPath":"http://r6.loli.io/QFFZjm.png","redirectCode":"QFFZjm.png","generatedCode":"QFFZjm","generatedName":"QFFZjm.png","share":False},{"id":126574,"smallSquareName":"myuiaaq.png","originName":"332.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842750000,"newPath":"http://r6.loli.io/myuiaa.png","redirectCode":"myuiaa.png","generatedCode":"myuiaa","generatedName":"myuiaa.png","share":False},{"id":126575,"smallSquareName":"IZJRryq.png","originName":"186.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842749000,"newPath":"http://r.loli.io/IZJRry.png","redirectCode":"IZJRry.png","generatedCode":"IZJRry","generatedName":"IZJRry.png","share":False},{"id":126571,"smallSquareName":"YbMJBbq.png","originName":"190.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842748000,"newPath":"http://r5.loli.io/YbMJBb.png","redirectCode":"YbMJBb.png","generatedCode":"YbMJBb","generatedName":"YbMJBb.png","share":False},{"id":126572,"smallSquareName":"V7jyuaq.png","originName":"331.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842748000,"newPath":"http://r.loli.io/V7jyua.png","redirectCode":"V7jyua.png","generatedCode":"V7jyua","generatedName":"V7jyua.png","share":False},{"id":126573,"smallSquareName":"jI3iA3q.png","originName":"191.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842747000,"newPath":"http://r6.loli.io/jI3iA3.png","redirectCode":"jI3iA3.png","generatedCode":"jI3iA3","generatedName":"jI3iA3.png","share":False},{"id":126570,"smallSquareName":"FRFV7bq.png","originName":"185.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842746000,"newPath":"http://r5.loli.io/FRFV7b.png","redirectCode":"FRFV7b.png","generatedCode":"FRFV7b","generatedName":"FRFV7b.png","share":False}])
ship_image_resources.extend([{"id":126569,"smallSquareName":"7BVbInq.png","originName":"184.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842743000,"newPath":"http://r5.loli.io/7BVbIn.png","redirectCode":"7BVbIn.png","generatedCode":"7BVbIn","generatedName":"7BVbIn.png","share":False},{"id":126566,"smallSquareName":"ZfMzmeq.png","originName":"183.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842741000,"newPath":"http://r.loli.io/ZfMzme.png","redirectCode":"ZfMzme.png","generatedCode":"ZfMzme","generatedName":"ZfMzme.png","share":False},{"id":126567,"smallSquareName":"67nUveq.png","originName":"182.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842741000,"newPath":"http://r5.loli.io/67nUve.png","redirectCode":"67nUve.png","generatedCode":"67nUve","generatedName":"67nUve.png","share":False},{"id":126563,"smallSquareName":"RZ36jqq.png","originName":"181.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842739000,"newPath":"http://r6.loli.io/RZ36jq.png","redirectCode":"RZ36jq.png","generatedCode":"RZ36jq","generatedName":"RZ36jq.png","share":False},{"id":126564,"smallSquareName":"NBrUrmq.png","originName":"176.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842739000,"newPath":"http://r6.loli.io/NBrUrm.png","redirectCode":"NBrUrm.png","generatedCode":"NBrUrm","generatedName":"NBrUrm.png","share":False},{"id":126565,"smallSquareName":"mI7VV3q.png","originName":"174.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842737000,"newPath":"http://r6.loli.io/mI7VV3.png","redirectCode":"mI7VV3.png","generatedCode":"mI7VV3","generatedName":"mI7VV3.png","share":False},{"id":126562,"smallSquareName":"JZnaqyq.png","originName":"175.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842735000,"newPath":"http://r5.loli.io/JZnaqy.png","redirectCode":"JZnaqy.png","generatedCode":"JZnaqy","generatedName":"JZnaqy.png","share":False},{"id":126560,"smallSquareName":"vIRZbyq.png","originName":"173.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842734000,"newPath":"http://r5.loli.io/vIRZby.png","redirectCode":"vIRZby.png","generatedCode":"vIRZby","generatedName":"vIRZby.png","share":False},{"id":126561,"smallSquareName":"vAfINzq.png","originName":"171.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842733000,"newPath":"http://r5.loli.io/vAfINz.png","redirectCode":"vAfINz.png","generatedCode":"vAfINz","generatedName":"vAfINz.png","share":False},{"id":126558,"smallSquareName":"yyyU3yq.png","originName":"170.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842732000,"newPath":"http://r6.loli.io/yyyU3y.png","redirectCode":"yyyU3y.png","generatedCode":"yyyU3y","generatedName":"yyyU3y.png","share":False},{"id":126559,"smallSquareName":"73uumuq.png","originName":"169.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842732000,"newPath":"http://r6.loli.io/73uumu.png","redirectCode":"73uumu.png","generatedCode":"73uumu","generatedName":"73uumu.png","share":False},{"id":126556,"smallSquareName":"BbEFRrq.png","originName":"168.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842727000,"newPath":"http://r.loli.io/BbEFRr.png","redirectCode":"BbEFRr.png","generatedCode":"BbEFRr","generatedName":"BbEFRr.png","share":False},{"id":126554,"smallSquareName":"fqQfaeq.png","originName":"165.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842726000,"newPath":"http://r5.loli.io/fqQfae.png","redirectCode":"fqQfae.png","generatedCode":"fqQfae","generatedName":"fqQfae.png","share":False},{"id":126557,"smallSquareName":"If2YJfq.png","originName":"167.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842726000,"newPath":"http://r.loli.io/If2YJf.png","redirectCode":"If2YJf.png","generatedCode":"If2YJf","generatedName":"If2YJf.png","share":False},{"id":126555,"smallSquareName":"MjIryiq.png","originName":"164.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842725000,"newPath":"http://r.loli.io/MjIryi.png","redirectCode":"MjIryi.png","generatedCode":"MjIryi","generatedName":"MjIryi.png","share":False},{"id":126552,"smallSquareName":"RJjUZjq.png","originName":"161.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842724000,"newPath":"http://r5.loli.io/RJjUZj.png","redirectCode":"RJjUZj.png","generatedCode":"RJjUZj","generatedName":"RJjUZj.png","share":False},{"id":126553,"smallSquareName":"iMnIRbq.png","originName":"163.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842724000,"newPath":"http://r.loli.io/iMnIRb.png","redirectCode":"iMnIRb.png","generatedCode":"iMnIRb","generatedName":"iMnIRb.png","share":False},{"id":126550,"smallSquareName":"YZvYneq.png","originName":"155.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842721000,"newPath":"http://r.loli.io/YZvYne.png","redirectCode":"YZvYne.png","generatedCode":"YZvYne","generatedName":"YZvYne.png","share":False}])
ship_image_resources.extend([{"id":126551,"smallSquareName":"Eje2y2q.png","originName":"154.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842720000,"newPath":"http://r6.loli.io/Eje2y2.png","redirectCode":"Eje2y2.png","generatedCode":"Eje2y2","generatedName":"Eje2y2.png","share":False},{"id":126548,"smallSquareName":"UFZnumq.png","originName":"153.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842718000,"newPath":"http://r6.loli.io/UFZnum.png","redirectCode":"UFZnum.png","generatedCode":"UFZnum","generatedName":"UFZnum.png","share":False},{"id":126549,"smallSquareName":"qQVJZrq.png","originName":"147.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842718000,"newPath":"http://r5.loli.io/qQVJZr.png","redirectCode":"qQVJZr.png","generatedCode":"qQVJZr","generatedName":"qQVJZr.png","share":False},{"id":126546,"smallSquareName":"3YjYzaq.png","originName":"143.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842716000,"newPath":"http://r6.loli.io/3YjYza.png","redirectCode":"3YjYza.png","generatedCode":"3YjYza","generatedName":"3YjYza.png","share":False},{"id":126547,"smallSquareName":"jeI7fyq.png","originName":"140.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842715000,"newPath":"http://r6.loli.io/jeI7fy.png","redirectCode":"jeI7fy.png","generatedCode":"jeI7fy","generatedName":"jeI7fy.png","share":False},{"id":126542,"smallSquareName":"yIfE3aq.png","originName":"139.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842712000,"newPath":"http://r6.loli.io/yIfE3a.png","redirectCode":"yIfE3a.png","generatedCode":"yIfE3a","generatedName":"yIfE3a.png","share":False},{"id":126545,"smallSquareName":"INbqI3q.png","originName":"138.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842712000,"newPath":"http://r.loli.io/INbqI3.png","redirectCode":"INbqI3.png","generatedCode":"INbqI3","generatedName":"INbqI3.png","share":False},{"id":126544,"smallSquareName":"QVrIbqq.png","originName":"137.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842711000,"newPath":"http://r.loli.io/QVrIbq.png","redirectCode":"QVrIbq.png","generatedCode":"QVrIbq","generatedName":"QVrIbq.png","share":False},{"id":126543,"smallSquareName":"aeInaqq.png","originName":"135.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842710000,"newPath":"http://r5.loli.io/aeInaq.png","redirectCode":"aeInaq.png","generatedCode":"aeInaq","generatedName":"aeInaq.png","share":False},{"id":126541,"smallSquareName":"FnMFjqq.png","originName":"134.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842708000,"newPath":"http://r6.loli.io/FnMFjq.png","redirectCode":"FnMFjq.png","generatedCode":"FnMFjq","generatedName":"FnMFjq.png","share":False},{"id":126540,"smallSquareName":"QV7ZFvq.png","originName":"133.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842706000,"newPath":"http://r5.loli.io/QV7ZFv.png","redirectCode":"QV7ZFv.png","generatedCode":"QV7ZFv","generatedName":"QV7ZFv.png","share":False},{"id":126539,"smallSquareName":"Yzq2i2q.png","originName":"132.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842705000,"newPath":"http://r.loli.io/Yzq2i2.png","redirectCode":"Yzq2i2.png","generatedCode":"Yzq2i2","generatedName":"Yzq2i2.png","share":False},{"id":126538,"smallSquareName":"BFVVNnq.png","originName":"131.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842704000,"newPath":"http://r6.loli.io/BFVVNn.png","redirectCode":"BFVVNn.png","generatedCode":"BFVVNn","generatedName":"BFVVNn.png","share":False},{"id":126536,"smallSquareName":"B7bUBfq.png","originName":"127.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842703000,"newPath":"http://r.loli.io/B7bUBf.png","redirectCode":"B7bUBf.png","generatedCode":"B7bUBf","generatedName":"B7bUBf.png","share":False},{"id":126537,"smallSquareName":"ZJzUfuq.png","originName":"128.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842703000,"newPath":"http://r6.loli.io/ZJzUfu.png","redirectCode":"ZJzUfu.png","generatedCode":"ZJzUfu","generatedName":"ZJzUfu.png","share":False},{"id":126533,"smallSquareName":"YzaaYnq.png","originName":"126.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842700000,"newPath":"http://r6.loli.io/YzaaYn.png","redirectCode":"YzaaYn.png","generatedCode":"YzaaYn","generatedName":"YzaaYn.png","share":False},{"id":126534,"smallSquareName":"b2iIZnq.png","originName":"125.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842699000,"newPath":"http://r.loli.io/b2iIZn.png","redirectCode":"b2iIZn.png","generatedCode":"b2iIZn","generatedName":"b2iIZn.png","share":False},{"id":126535,"smallSquareName":"q2qQfmq.png","originName":"124.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842698000,"newPath":"http://r.loli.io/q2qQfm.png","redirectCode":"q2qQfm.png","generatedCode":"q2qQfm","generatedName":"q2qQfm.png","share":False}])
ship_image_resources.extend([{"id":126531,"smallSquareName":"AvY3Qzq.png","originName":"122.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842696000,"newPath":"http://r.loli.io/AvY3Qz.png","redirectCode":"AvY3Qz.png","generatedCode":"AvY3Qz","generatedName":"AvY3Qz.png","share":False},{"id":126532,"smallSquareName":"iAnuQbq.png","originName":"123.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842696000,"newPath":"http://r5.loli.io/iAnuQb.png","redirectCode":"iAnuQb.png","generatedCode":"iAnuQb","generatedName":"iAnuQb.png","share":False},{"id":126530,"smallSquareName":"MveUBfq.png","originName":"120.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842694000,"newPath":"http://r5.loli.io/MveUBf.png","redirectCode":"MveUBf.png","generatedCode":"MveUBf","generatedName":"MveUBf.png","share":False},{"id":126527,"smallSquareName":"IRBriqq.png","originName":"115.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842691000,"newPath":"http://r6.loli.io/IRBriq.png","redirectCode":"IRBriq.png","generatedCode":"IRBriq","generatedName":"IRBriq.png","share":False},{"id":126529,"smallSquareName":"fia22qq.png","originName":"116.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842691000,"newPath":"http://r6.loli.io/fia22q.png","redirectCode":"fia22q.png","generatedCode":"fia22q","generatedName":"fia22q.png","share":False},{"id":126528,"smallSquareName":"aERVraq.png","originName":"114.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842689000,"newPath":"http://r6.loli.io/aERVra.png","redirectCode":"aERVra.png","generatedCode":"aERVra","generatedName":"aERVra.png","share":False},{"id":126525,"smallSquareName":"MbMRb2q.png","originName":"113.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842688000,"newPath":"http://r6.loli.io/MbMRb2.png","redirectCode":"MbMRb2.png","generatedCode":"MbMRb2","generatedName":"MbMRb2.png","share":False},{"id":126524,"smallSquareName":"VjEj2eq.png","originName":"111.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842687000,"newPath":"http://r6.loli.io/VjEj2e.png","redirectCode":"VjEj2e.png","generatedCode":"VjEj2e","generatedName":"VjEj2e.png","share":False},{"id":126526,"smallSquareName":"zMFNnqq.png","originName":"110.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842687000,"newPath":"http://r6.loli.io/zMFNnq.png","redirectCode":"zMFNnq.png","generatedCode":"zMFNnq","generatedName":"zMFNnq.png","share":False},{"id":126522,"smallSquareName":"V7Bz2mq.png","originName":"103.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842685000,"newPath":"http://r6.loli.io/V7Bz2m.png","redirectCode":"V7Bz2m.png","generatedCode":"V7Bz2m","generatedName":"V7Bz2m.png","share":False},{"id":126521,"smallSquareName":"yqqqQnq.png","originName":"102.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842684000,"newPath":"http://r.loli.io/yqqqQn.png","redirectCode":"yqqqQn.png","generatedCode":"yqqqQn","generatedName":"yqqqQn.png","share":False},{"id":126520,"smallSquareName":"7juqQzq.png","originName":"101.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842683000,"newPath":"http://r.loli.io/7juqQz.png","redirectCode":"7juqQz.png","generatedCode":"7juqQz","generatedName":"7juqQz.png","share":False},{"id":126523,"smallSquareName":"JvqAFvq.png","originName":"99.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842683000,"newPath":"http://r6.loli.io/JvqAFv.png","redirectCode":"JvqAFv.png","generatedCode":"JvqAFv","generatedName":"JvqAFv.png","share":False},{"id":126518,"smallSquareName":"rea6Rbq.png","originName":"100.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842682000,"newPath":"http://r5.loli.io/rea6Rb.png","redirectCode":"rea6Rb.png","generatedCode":"rea6Rb","generatedName":"rea6Rb.png","share":False},{"id":126519,"smallSquareName":"FFFrmaq.png","originName":"98.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842681000,"newPath":"http://r5.loli.io/FFFrma.png","redirectCode":"FFFrma.png","generatedCode":"FFFrma","generatedName":"FFFrma.png","share":False},{"id":126517,"smallSquareName":"2IZVzaq.png","originName":"97.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842680000,"newPath":"http://r5.loli.io/2IZVza.png","redirectCode":"2IZVza.png","generatedCode":"2IZVza","generatedName":"2IZVza.png","share":False},{"id":126516,"smallSquareName":"FnMRjmq.png","originName":"96.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842679000,"newPath":"http://r5.loli.io/FnMRjm.png","redirectCode":"FnMRjm.png","generatedCode":"FnMRjm","generatedName":"FnMRjm.png","share":False},{"id":126512,"smallSquareName":"UNvQNvq.png","originName":"93.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842676000,"newPath":"http://r5.loli.io/UNvQNv.png","redirectCode":"UNvQNv.png","generatedCode":"UNvQNv","generatedName":"UNvQNv.png","share":False}])
ship_image_resources.extend([{"id":126513,"smallSquareName":"bIniuaq.png","originName":"94.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842676000,"newPath":"http://r6.loli.io/bIniua.png","redirectCode":"bIniua.png","generatedCode":"bIniua","generatedName":"bIniua.png","share":False},{"id":126514,"smallSquareName":"F7zAz2q.png","originName":"95.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842676000,"newPath":"http://r.loli.io/F7zAz2.png","redirectCode":"F7zAz2.png","generatedCode":"F7zAz2","generatedName":"F7zAz2.png","share":False},{"id":126515,"smallSquareName":"ruuAFzq.png","originName":"92.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842675000,"newPath":"http://r5.loli.io/ruuAFz.png","redirectCode":"ruuAFz.png","generatedCode":"ruuAFz","generatedName":"ruuAFz.png","share":False},{"id":126511,"smallSquareName":"iauqQ3q.png","originName":"91.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842673000,"newPath":"http://r6.loli.io/iauqQ3.png","redirectCode":"iauqQ3.png","generatedCode":"iauqQ3","generatedName":"iauqQ3.png","share":False},{"id":126508,"smallSquareName":"n6VBryq.png","originName":"87.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842669000,"newPath":"http://r6.loli.io/n6VBry.png","redirectCode":"n6VBry.png","generatedCode":"n6VBry","generatedName":"n6VBry.png","share":False},{"id":126510,"smallSquareName":"7n6ZRfq.png","originName":"90.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842669000,"newPath":"http://r6.loli.io/7n6ZRf.png","redirectCode":"7n6ZRf.png","generatedCode":"7n6ZRf","generatedName":"7n6ZRf.png","share":False},{"id":126505,"smallSquareName":"qURRjiq.png","originName":"89.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842668000,"newPath":"http://r5.loli.io/qURRji.png","redirectCode":"qURRji.png","generatedCode":"qURRji","generatedName":"qURRji.png","share":False},{"id":126506,"smallSquareName":"fQzYfqq.png","originName":"85.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842667000,"newPath":"http://r6.loli.io/fQzYfq.png","redirectCode":"fQzYfq.png","generatedCode":"fQzYfq","generatedName":"fQzYfq.png","share":False},{"id":126507,"smallSquareName":"Mn2aYfq.png","originName":"86.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842667000,"newPath":"http://r6.loli.io/Mn2aYf.png","redirectCode":"Mn2aYf.png","generatedCode":"Mn2aYf","generatedName":"Mn2aYf.png","share":False},{"id":126509,"smallSquareName":"naimi2q.png","originName":"84.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842666000,"newPath":"http://r.loli.io/naimi2.png","redirectCode":"naimi2.png","generatedCode":"naimi2","generatedName":"naimi2.png","share":False},{"id":126503,"smallSquareName":"QVnIVbq.png","originName":"83.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842662000,"newPath":"http://r6.loli.io/QVnIVb.png","redirectCode":"QVnIVb.png","generatedCode":"QVnIVb","generatedName":"QVnIVb.png","share":False},{"id":126501,"smallSquareName":"YrqEJfq.png","originName":"81.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842661000,"newPath":"http://r.loli.io/YrqEJf.png","redirectCode":"YrqEJf.png","generatedCode":"YrqEJf","generatedName":"YrqEJf.png","share":False},{"id":126500,"smallSquareName":"zUrMriq.png","originName":"80.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842660000,"newPath":"http://r.loli.io/zUrMri.png","redirectCode":"zUrMri.png","generatedCode":"zUrMri","generatedName":"zUrMri.png","share":False},{"id":126504,"smallSquareName":"bQRvamq.png","originName":"79.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842660000,"newPath":"http://r6.loli.io/bQRvam.png","redirectCode":"bQRvam.png","generatedCode":"bQRvam","generatedName":"bQRvam.png","share":False},{"id":126502,"smallSquareName":"u2qeuaq.png","originName":"78.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842659000,"newPath":"http://r5.loli.io/u2qeua.png","redirectCode":"u2qeua.png","generatedCode":"u2qeua","generatedName":"u2qeua.png","share":False},{"id":126499,"smallSquareName":"nmEF3aq.png","originName":"77.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842657000,"newPath":"http://r5.loli.io/nmEF3a.png","redirectCode":"nmEF3a.png","generatedCode":"nmEF3a","generatedName":"nmEF3a.png","share":False},{"id":126497,"smallSquareName":"qInaEzq.png","originName":"76.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842654000,"newPath":"http://r5.loli.io/qInaEz.png","redirectCode":"qInaEz.png","generatedCode":"qInaEz","generatedName":"qInaEz.png","share":False},{"id":126498,"smallSquareName":"7N7jaeq.png","originName":"75.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842654000,"newPath":"http://r.loli.io/7N7jae.png","redirectCode":"7N7jae.png","generatedCode":"7N7jae","generatedName":"7N7jae.png","share":False}])
ship_image_resources.extend([{"id":126496,"smallSquareName":"i2Mvqqq.png","originName":"74.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842653000,"newPath":"http://r6.loli.io/i2Mvqq.png","redirectCode":"i2Mvqq.png","generatedCode":"i2Mvqq","generatedName":"i2Mvqq.png","share":False},{"id":126495,"smallSquareName":"iiEz2yq.png","originName":"72.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842652000,"newPath":"http://r5.loli.io/iiEz2y.png","redirectCode":"iiEz2y.png","generatedCode":"iiEz2y","generatedName":"iiEz2y.png","share":False},{"id":126494,"smallSquareName":"EFBNBnq.png","originName":"71.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842651000,"newPath":"http://r5.loli.io/EFBNBn.png","redirectCode":"EFBNBn.png","generatedCode":"EFBNBn","generatedName":"EFBNBn.png","share":False},{"id":126491,"smallSquareName":"JzAjiyq.png","originName":"69.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842649000,"newPath":"http://r6.loli.io/JzAjiy.png","redirectCode":"JzAjiy.png","generatedCode":"JzAjiy","generatedName":"JzAjiy.png","share":False},{"id":126493,"smallSquareName":"IZ7v2uq.png","originName":"70.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842649000,"newPath":"http://r5.loli.io/IZ7v2u.png","redirectCode":"IZ7v2u.png","generatedCode":"IZ7v2u","generatedName":"IZ7v2u.png","share":False},{"id":126490,"smallSquareName":"6rIz6jq.png","originName":"68.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842648000,"newPath":"http://r.loli.io/6rIz6j.png","redirectCode":"6rIz6j.png","generatedCode":"6rIz6j","generatedName":"6rIz6j.png","share":False},{"id":126492,"smallSquareName":"mquyyyq.png","originName":"67.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842646000,"newPath":"http://r.loli.io/mquyyy.png","redirectCode":"mquyyy.png","generatedCode":"mquyyy","generatedName":"mquyyy.png","share":False},{"id":126486,"smallSquareName":"JZNfAfq.png","originName":"65.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842645000,"newPath":"http://r.loli.io/JZNfAf.png","redirectCode":"JZNfAf.png","generatedCode":"JZNfAf","generatedName":"JZNfAf.png","share":False},{"id":126489,"smallSquareName":"qqYF7rq.png","originName":"66.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842645000,"newPath":"http://r.loli.io/qqYF7r.png","redirectCode":"qqYF7r.png","generatedCode":"qqYF7r","generatedName":"qqYF7r.png","share":False},{"id":126485,"smallSquareName":"AZFr6vq.png","originName":"64.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842644000,"newPath":"http://r.loli.io/AZFr6v.png","redirectCode":"AZFr6v.png","generatedCode":"AZFr6v","generatedName":"AZFr6v.png","share":False},{"id":126488,"smallSquareName":"b6rAviq.png","originName":"63.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842644000,"newPath":"http://r.loli.io/b6rAvi.png","redirectCode":"b6rAvi.png","generatedCode":"b6rAvi","generatedName":"b6rAvi.png","share":False},{"id":126487,"smallSquareName":"U3AnErq.png","originName":"62.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842642000,"newPath":"http://r5.loli.io/U3AnEr.png","redirectCode":"U3AnEr.png","generatedCode":"U3AnEr","generatedName":"U3AnEr.png","share":False},{"id":126482,"smallSquareName":"26ZZzqq.png","originName":"61.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842640000,"newPath":"http://r.loli.io/26ZZzq.png","redirectCode":"26ZZzq.png","generatedCode":"26ZZzq","generatedName":"26ZZzq.png","share":False},{"id":126484,"smallSquareName":"zim2M3q.png","originName":"60.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842640000,"newPath":"http://r6.loli.io/zim2M3.png","redirectCode":"zim2M3.png","generatedCode":"zim2M3","generatedName":"zim2M3.png","share":False},{"id":126481,"smallSquareName":"m6neIvq.png","originName":"56.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842639000,"newPath":"http://r.loli.io/m6neIv.png","redirectCode":"m6neIv.png","generatedCode":"m6neIv","generatedName":"m6neIv.png","share":False},{"id":126483,"smallSquareName":"RRnamuq.png","originName":"59.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842639000,"newPath":"http://r5.loli.io/RRnamu.png","redirectCode":"RRnamu.png","generatedCode":"RRnamu","generatedName":"RRnamu.png","share":False},{"id":126479,"smallSquareName":"qARj6vq.png","originName":"55.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842637000,"newPath":"http://r5.loli.io/qARj6v.png","redirectCode":"qARj6v.png","generatedCode":"qARj6v","generatedName":"qARj6v.png","share":False},{"id":126480,"smallSquareName":"eYRRv2q.png","originName":"54.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842636000,"newPath":"http://r5.loli.io/eYRRv2.png","redirectCode":"eYRRv2.png","generatedCode":"eYRRv2","generatedName":"eYRRv2.png","share":False}])
ship_image_resources.extend([{"id":126476,"smallSquareName":"ZV3IRjq.png","originName":"52.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842635000,"newPath":"http://r5.loli.io/ZV3IRj.png","redirectCode":"ZV3IRj.png","generatedCode":"ZV3IRj","generatedName":"ZV3IRj.png","share":False},{"id":126478,"smallSquareName":"2AZzyiq.png","originName":"53.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842635000,"newPath":"http://r.loli.io/2AZzyi.png","redirectCode":"2AZzyi.png","generatedCode":"2AZzyi","generatedName":"2AZzyi.png","share":False},{"id":126477,"smallSquareName":"uI7rmuq.png","originName":"51.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842634000,"newPath":"http://r.loli.io/uI7rmu.png","redirectCode":"uI7rmu.png","generatedCode":"uI7rmu","generatedName":"uI7rmu.png","share":False},{"id":126475,"smallSquareName":"qANRVjq.png","originName":"50.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842633000,"newPath":"http://r.loli.io/qANRVj.png","redirectCode":"qANRVj.png","generatedCode":"qANRVj","generatedName":"qANRVj.png","share":False},{"id":126474,"smallSquareName":"Mr2INzq.png","originName":"49.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842632000,"newPath":"http://r6.loli.io/Mr2INz.png","redirectCode":"Mr2INz.png","generatedCode":"Mr2INz","generatedName":"Mr2INz.png","share":False},{"id":126471,"smallSquareName":"NZnQnmq.png","originName":"47.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842630000,"newPath":"http://r6.loli.io/NZnQnm.png","redirectCode":"NZnQnm.png","generatedCode":"NZnQnm","generatedName":"NZnQnm.png","share":False},{"id":126473,"smallSquareName":"IZ3Qbyq.png","originName":"48.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842630000,"newPath":"http://r.loli.io/IZ3Qby.png","redirectCode":"IZ3Qby.png","generatedCode":"IZ3Qby","generatedName":"IZ3Qby.png","share":False},{"id":126469,"smallSquareName":"QRjA3qq.png","originName":"44.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842629000,"newPath":"http://r5.loli.io/QRjA3q.png","redirectCode":"QRjA3q.png","generatedCode":"QRjA3q","generatedName":"QRjA3q.png","share":False},{"id":126470,"smallSquareName":"Q3EbYbq.png","originName":"45.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842629000,"newPath":"http://r.loli.io/Q3EbYb.png","redirectCode":"Q3EbYb.png","generatedCode":"Q3EbYb","generatedName":"Q3EbYb.png","share":False},{"id":126472,"smallSquareName":"Nveameq.png","originName":"46.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842629000,"newPath":"http://r.loli.io/Nveame.png","redirectCode":"Nveame.png","generatedCode":"Nveame","generatedName":"Nveame.png","share":False},{"id":126468,"smallSquareName":"QJZvMvq.png","originName":"43.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842626000,"newPath":"http://r.loli.io/QJZvMv.png","redirectCode":"QJZvMv.png","generatedCode":"QJZvMv","generatedName":"QJZvMv.png","share":False},{"id":126465,"smallSquareName":"3Af2Abq.png","originName":"40.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842625000,"newPath":"http://r.loli.io/3Af2Ab.png","redirectCode":"3Af2Ab.png","generatedCode":"3Af2Ab","generatedName":"3Af2Ab.png","share":False},{"id":126466,"smallSquareName":"VbyaU3q.png","originName":"42.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842625000,"newPath":"http://r5.loli.io/VbyaU3.png","redirectCode":"VbyaU3.png","generatedCode":"VbyaU3","generatedName":"VbyaU3.png","share":False},{"id":126467,"smallSquareName":"aMvmayq.png","originName":"41.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842625000,"newPath":"http://r5.loli.io/aMvmay.png","redirectCode":"aMvmay.png","generatedCode":"aMvmay","generatedName":"aMvmay.png","share":False},{"id":126464,"smallSquareName":"ZVBzYnq.png","originName":"39.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842624000,"newPath":"http://r.loli.io/ZVBzYn.png","redirectCode":"ZVBzYn.png","generatedCode":"ZVBzYn","generatedName":"ZVBzYn.png","share":False},{"id":126463,"smallSquareName":"feI7fiq.png","originName":"38.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842623000,"newPath":"http://r5.loli.io/feI7fi.png","redirectCode":"feI7fi.png","generatedCode":"feI7fi","generatedName":"feI7fi.png","share":False},{"id":126462,"smallSquareName":"iaMjE3q.png","originName":"37.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842621000,"newPath":"http://r5.loli.io/iaMjE3.png","redirectCode":"iaMjE3.png","generatedCode":"iaMjE3","generatedName":"iaMjE3.png","share":False},{"id":126459,"smallSquareName":"e22Araq.png","originName":"36.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842620000,"newPath":"http://r6.loli.io/e22Ara.png","redirectCode":"e22Ara.png","generatedCode":"e22Ara","generatedName":"e22Ara.png","share":False}])
ship_image_resources.extend([{"id":126461,"smallSquareName":"VvYZZbq.png","originName":"35.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842620000,"newPath":"http://r5.loli.io/VvYZZb.png","redirectCode":"VvYZZb.png","generatedCode":"VvYZZb","generatedName":"VvYZZb.png","share":False},{"id":126460,"smallSquareName":"yuQ7Jvq.png","originName":"34.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842619000,"newPath":"http://r.loli.io/yuQ7Jv.png","redirectCode":"yuQ7Jv.png","generatedCode":"yuQ7Jv","generatedName":"yuQ7Jv.png","share":False},{"id":126458,"smallSquareName":"YJvMBzq.png","originName":"33.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842618000,"newPath":"http://r5.loli.io/YJvMBz.png","redirectCode":"YJvMBz.png","generatedCode":"YJvMBz","generatedName":"YJvMBz.png","share":False},{"id":126457,"smallSquareName":"FrEnMnq.png","originName":"32.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842617000,"newPath":"http://r5.loli.io/FrEnMn.png","redirectCode":"FrEnMn.png","generatedCode":"FrEnMn","generatedName":"FrEnMn.png","share":False},{"id":126455,"smallSquareName":"VZ3mQzq.png","originName":"31.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842615000,"newPath":"http://r.loli.io/VZ3mQz.png","redirectCode":"VZ3mQz.png","generatedCode":"VZ3mQz","generatedName":"VZ3mQz.png","share":False},{"id":126456,"smallSquareName":"AZfy63q.png","originName":"30.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842615000,"newPath":"http://r.loli.io/AZfy63.png","redirectCode":"AZfy63.png","generatedCode":"AZfy63","generatedName":"AZfy63.png","share":False},{"id":126452,"smallSquareName":"rURjiyq.png","originName":"29.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842613000,"newPath":"http://r6.loli.io/rURjiy.png","redirectCode":"rURjiy.png","generatedCode":"rURjiy","generatedName":"rURjiy.png","share":False},{"id":126451,"smallSquareName":"QFrYneq.png","originName":"28.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842612000,"newPath":"http://r5.loli.io/QFrYne.png","redirectCode":"QFrYne.png","generatedCode":"QFrYne","generatedName":"QFrYne.png","share":False},{"id":126453,"smallSquareName":"7JFJNrq.png","originName":"27.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842611000,"newPath":"http://r5.loli.io/7JFJNr.png","redirectCode":"7JFJNr.png","generatedCode":"7JFJNr","generatedName":"7JFJNr.png","share":False},{"id":126454,"smallSquareName":"RNr6Jzq.png","originName":"26.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842611000,"newPath":"http://r6.loli.io/RNr6Jz.png","redirectCode":"RNr6Jz.png","generatedCode":"RNr6Jz","generatedName":"RNr6Jz.png","share":False},{"id":126449,"smallSquareName":"ji6Fjeq.png","originName":"25.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842609000,"newPath":"http://r5.loli.io/ji6Fje.png","redirectCode":"ji6Fje.png","generatedCode":"ji6Fje","generatedName":"ji6Fje.png","share":False},{"id":126450,"smallSquareName":"faEneqq.png","originName":"24.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842607000,"newPath":"http://r5.loli.io/faEneq.png","redirectCode":"faEneq.png","generatedCode":"faEneq","generatedName":"faEneq.png","share":False},{"id":126446,"smallSquareName":"q6NJZrq.png","originName":"22.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842606000,"newPath":"http://r.loli.io/q6NJZr.png","redirectCode":"q6NJZr.png","generatedCode":"q6NJZr","generatedName":"q6NJZr.png","share":False},{"id":126447,"smallSquareName":"3ANR3iq.png","originName":"23.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842606000,"newPath":"http://r6.loli.io/3ANR3i.png","redirectCode":"3ANR3i.png","generatedCode":"3ANR3i","generatedName":"3ANR3i.png","share":False},{"id":126448,"smallSquareName":"ABVnqiq.png","originName":"21.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842606000,"newPath":"http://r5.loli.io/ABVnqi.png","redirectCode":"ABVnqi.png","generatedCode":"ABVnqi","generatedName":"ABVnqi.png","share":False},{"id":126445,"smallSquareName":"zu6Rnyq.png","originName":"20.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842605000,"newPath":"http://r5.loli.io/zu6Rny.png","redirectCode":"zu6Rny.png","generatedCode":"zu6Rny","generatedName":"zu6Rny.png","share":False},{"id":126444,"smallSquareName":"mqayy2q.png","originName":"19.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842603000,"newPath":"http://r6.loli.io/mqayy2.png","redirectCode":"mqayy2.png","generatedCode":"mqayy2","generatedName":"mqayy2.png","share":False},{"id":126443,"smallSquareName":"3U7Rbuq.png","originName":"18.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842602000,"newPath":"http://r5.loli.io/3U7Rbu.png","redirectCode":"3U7Rbu.png","generatedCode":"3U7Rbu","generatedName":"3U7Rbu.png","share":False}])
ship_image_resources.extend([{"id":126441,"smallSquareName":"a6322eq.png","originName":"15.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842601000,"newPath":"http://r.loli.io/a6322e.png","redirectCode":"a6322e.png","generatedCode":"a6322e","generatedName":"a6322e.png","share":False},{"id":126442,"smallSquareName":"6Vfum2q.png","originName":"17.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842601000,"newPath":"http://r6.loli.io/6Vfum2.png","redirectCode":"6Vfum2.png","generatedCode":"6Vfum2","generatedName":"6Vfum2.png","share":False},{"id":126439,"smallSquareName":"IfiYR3q.png","originName":"16.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842600000,"newPath":"http://r.loli.io/IfiYR3.png","redirectCode":"IfiYR3.png","generatedCode":"IfiYR3","generatedName":"IfiYR3.png","share":False},{"id":126440,"smallSquareName":"zIVZzaq.png","originName":"14.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842600000,"newPath":"http://r5.loli.io/zIVZza.png","redirectCode":"zIVZza.png","generatedCode":"zIVZza","generatedName":"zIVZza.png","share":False},{"id":126438,"smallSquareName":"aqaq2eq.png","originName":"13.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842599000,"newPath":"http://r.loli.io/aqaq2e.png","redirectCode":"aqaq2e.png","generatedCode":"aqaq2e","generatedName":"aqaq2e.png","share":False},{"id":126437,"smallSquareName":"R3Mneyq.png","originName":"12.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842597000,"newPath":"http://r5.loli.io/R3Mney.png","redirectCode":"R3Mney.png","generatedCode":"R3Mney","generatedName":"R3Mney.png","share":False},{"id":126432,"smallSquareName":"ZJnee2q.png","originName":"6.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842595000,"newPath":"http://r5.loli.io/ZJnee2.png","redirectCode":"ZJnee2.png","generatedCode":"ZJnee2","generatedName":"ZJnee2.png","share":False},{"id":126433,"smallSquareName":"UNVNFnq.png","originName":"7.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842595000,"newPath":"http://r.loli.io/UNVNFn.png","redirectCode":"UNVNFn.png","generatedCode":"UNVNFn","generatedName":"UNVNFn.png","share":False},{"id":126434,"smallSquareName":"QvaAJjq.png","originName":"9.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842595000,"newPath":"http://r6.loli.io/QvaAJj.png","redirectCode":"QvaAJj.png","generatedCode":"QvaAJj","generatedName":"QvaAJj.png","share":False},{"id":126435,"smallSquareName":"jmqyE3q.png","originName":"10.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842595000,"newPath":"http://r6.loli.io/jmqyE3.png","redirectCode":"jmqyE3.png","generatedCode":"jmqyE3","generatedName":"jmqyE3.png","share":False},{"id":126436,"smallSquareName":"bMruM3q.png","originName":"11.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842595000,"newPath":"http://r6.loli.io/bMruM3.png","redirectCode":"bMruM3.png","generatedCode":"bMruM3","generatedName":"bMruM3.png","share":False},{"id":126430,"smallSquareName":"VJzEJnq.png","originName":"1.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842594000,"newPath":"http://r.loli.io/VJzEJn.png","redirectCode":"VJzEJn.png","generatedCode":"VJzEJn","generatedName":"VJzEJn.png","share":False},{"id":126431,"smallSquareName":"aQJb2eq.png","originName":"2.png","gallery":{"id":426,"title":"kancolle-get","description":"","date":1456842087000,"lastUpdate":1456842793000},"date":1456842594000,"newPath":"http://r.loli.io/aQJb2e.png","redirectCode":"aQJb2e.png","generatedCode":"aQJb2e","generatedName":"aQJb2e.png","share":False}])

app = Flask(__name__)
app.secret_key = open('session_key', 'r').read().replace('\n', '')

app_key = '3125827369'
app_secret = open('app_secret', 'r').read().replace('\n', '')
redirect_uri = 'http://119.29.154.223:5011/api/auth_callback'

@app.route('/api/auth_callback', methods=['GET'])
def api_auth_callback():
	code = request.args['code']
	request_result = requests.post('https://api.weibo.com/oauth2/access_token', {
			'client_id' : app_key,
			'client_secret' : app_secret,
			'grant_type' : 'authorization_code',
			'code' : code,
			'redirect_uri' : redirect_uri
		})
	result_json = json.loads(request_result.content)
	access_token = result_json['access_token']
	session['access_token'] = access_token
	return jsonify({'status':200})

@app.route('/api/post_weibo', methods=['GET', 'POST'])
def api_post_weibo():
	if not 'access_token' in request.args:
		if not 'access_token' in session:
			return jsonify({'status': 403})
		access_token = session['access_token']
		if not is_access_token_valid(access_token):
			return jsonify({'status':403})
	else:
		access_token = request.args['access_token']

	if 'text' in request.form:
		text = request.form['text']
	else:
		text = request.args['text']

	api_ship_id = None
	if 'api_ship_id' in request.form:
		api_ship_id = request.form['api_ship_id']
	if 'api_ship_id' in request.args:
		api_ship_id = request.args['api_ship_id']

	post_image_flag = False
	if api_ship_id != None and get_ship_image_url(api_ship_id) != None:
		post_image_flag = True

	if post_image_flag:
		request_result = requests.post('https://api.weibo.com/2/statuses/upload_url_text.json', {
			'access_token':access_token,
			'url': get_ship_image_url(api_ship_id),
			'status':text,
		})
	else:
		request_result = requests.post('https://api.weibo.com/2/statuses/update.json', {
			'access_token':access_token,
			'status':text
		})

	result_json = json.loads(request_result.content)
	if 'id' in result_json:
		return jsonify({'status':200, 'weibo_id':result_json['id']})
	else:
		return jsonify({'status':500, 'error':request_result.text})

def get_ship_image_url(api_ship_id):
	for resource_info in ship_image_resources:
		if resource_info['originName'] == str(api_ship_id) + '.png':
			return resource_info['newPath']
	return None

def is_access_token_valid(access_token):
	request_result = requests.post('https://api.weibo.com/oauth2/get_token_info', {'access_token': access_token})
	result_json = json.loads(request_result.content)
	if 'expire_in' in result_json and result_json['expire_in'] > 0:
		return True
	else:
		return False

if __name__ == '__main__':
	app.run(host='0.0.0.0', port=5011, debug=True)
